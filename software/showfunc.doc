                              SHOWFUNC USERS GUIDE
                              --------------------

                                 By Jim Apolis
                                 San Jose, Ca.
                                 Nov. 12, 1986

     SUMMARY OF COMMANDS:

          SHOWFUNÃ  ió  á selæ relocatinç prograí thaô allowó yoõ tï  tracå 
     thå BDOÓ calló madå bù á targeô program®  Yoõ enteò SHOWFUNÃ bù typinç 
     it¬ theî thå targeô prograí name¬ theî thå targeô prograí commanä taiì 
     aó showî below.

          Ex. A>SHOWFUNC A:PIP B:FOO.COM=C:GOO.COM[V

          SHOWFUNÃ  wilì  theî  loaä thå targeô prograí intï  thå  TPÁ  anä 
     setuğ  thå defaulô FCÂ aô addresó 5CÈ anä thå commanä taiì aô  addresó 
     80H®  Iô  wilì theî displaù á '*§ prompô thå firsô timå á BDOÓ calì ió 
     executeä  bù  thå  targeô program®  Froí thå prompô  commandó  caî  bå 
     entereä thaô controì ho÷ SHOWFUNÃ wilì tracå thå targeô program®  Eacè 
     "step¢  thaô  ió traceä representó onå BDOÓ calì madå  bù  thå  targeô 
     program®  Foò  instancå  iæ  Tµ ió entereä aô thå  prompt¬  theî  fivå 
     successivå  BDOÓ  calló  wilì bå displayed¬  theî  thå  prompô  again® 
     (Assuminç  thaô thå prograí executeó fivå BDOÓ functioî calls.©   Wheî 
     thå targeô prograí ió beinç traceä iî tracå modå thå BDOÓ functioî anä 
     registeò  DÅ wilì bå displayeä aô thå consolå beforå thå  functioî  ió 
     executeä  anä  wheî  thå BDOÓ returnó thå HÌ anä Á registeró  wilì  bå 
     displayed®  Iæ  Uµ ió entereä aô thå prompt¬  fivå BDOÓ calló wilì  bå 
     executeä withouô beinç displayed¬  theî thå prompô again®  Thió allowó 
     thå  programmeò  tï steğ througè á prograí anä checë foò  thå  correcô 
     sequencå  oæ  BDOÓ  calló anä  thå  correcô  returneä  values®  Singlå 
     steppinç caî bå donå bù enterinç RETURÎ witè nï command® SHOWFUNÃ wilì 
     singlå  steğ  iî whateveò modå waó useä last®  (Tracå modå oò  Untracå 
     mode©  Iæ G² ió entereä aô thå prompt¬  thå prograí wilì executå untiì 
     iô enconteró á BDOÓ functioî ² calì theî prompô again® Iæ Ç ió entereä 
     withouô á number¬  SHOWFUNÃ wilì effectivelù removå itselæ anä leô thå 
     targeô prograí ruî freelù withouô eveò breaking® Iæ D25¶ ió entereä aô 
     thå prompt¬  12¸ byteó oæ memorù ió displayeä startinç aô addresó 256® 
     (oò 10° hex© Thió ió tï allo÷ thå useò tï displaù aî FCÂ oò otheò datá 
     areá iî memorù tï seå thå resultó oæ certaiî BDOÓ calls®  Aî  optionaì 
     radiø  caî bå specifieä iî thå commanä string®  Thå valiä radixeó  arå 
     "D¢ foò decimal¬  "H¢ foò hex¬  "O¢ foò octal¬ anä "B¢ foò binary® Thå 
     lasô  radiø specifieä ió thå onå thaô remainó iî effecô untiì  anotheò 
     radiø  ió specified®  Thå initiaì radiø ió decimal®  Á summarù oæ  thå 
     availablå  commandó  caî  bå printeä bù  typinç  "HELP¢  oò  "H"®  Thå 
     availablå commandó arå aó follows® 

          Trnnnnn   Trace and display for nnnnn steps then break
          Urnnnnn   Untrace for nnnnn steps then break
          Grnnnnî   (Un)trace until BDOS function nnnnn is executed
          Drnnnnn   Dump memory at address nnnnn
          <cr>      Single step trace or untrace
          HELP      Display help

          Wherå r iî aî optionaì radiø anä nnnnî ió aî optionaì number. Š

                                    Page 1
                               - TRACE COMMAND -

          Trnnnnn   Trace and display for nnnnn steps then break

          Thå  "T¢  commanä  ió  useä tï tracå thå  targeô  prograí  foò  á 
     specifiã  numbeò oæ BDOÓ calls®  Eacè timå á BDOÓ calì ió executeä  bù 
     thå  targeô prograí thå BDOÓ functioî numbeò ió displayeä iî  decimal¬ 
     anä  thå contentó oæ registeò paiò DÅ arå displayeä iî hex®  Thå  BDOÓ 
     functioî  ió  theî executed®  Wheî thå BDOÓ returns¬  registeò  Á  anä 
     registeò  paiò HÌ arå botè displayeä iî hex®  Iæ á tracå counô (nnnnn© 
     ió specified¬  SHOWFUNÃ wilì breaë afteò thå specifieä numbeò oæ  BDOÓ 
     functionó  havå beeî executed®  Thå maximuí numbeò thaô caî bå entereä 
     ió 6553µ decimal® (oò FFFÆ hex© Aî optionaì radiø (r© caî bå specifieä 
     precedinç thå number®  Iæ á radiø ió specifieä theî thaô radiø remainó 
     iî effecô untiì anotheò radiø ió specified®  Thå radiø ió specifieä aó 
     "D¢ foò decimal¬  "H¢ foò hex¬  "O¢ foò octal¬ oò "B¢ foò binary® Notå 
     thaô thå radiø specificationó "D¢ anä "B¢ arå botè valiä heø  numbers¬ 
     thereforå iæ yoõ enteò á heø numbeò withouô á radiø preceedinç it¬ yoõ 
     musô  enteò  á "0¢ beforå thå heø number®  Foò examplå yoõ musô  enteò 
     0B00°  tï specifù B00° hex®  Iæ thå tracå commanä ió entereä  witè  oò 
     withouô  á  number¬  tracå modå ió enabled®  Thió wilì causå thå  BDOÓ 
     functioî  anä  registeró tï bå displayeä wheî usinç  thå  singlå  steğ 
     commanä oò thå "G¢ command.


     EXAMPLE OF COMMANDS:

     *TH10          Trace mode, trace for 10 hex steps
     *T10           Trace mode, trace for 10 steps use last radix specified
     *T             Trace mode


     EXAMPLE OF DISPLAY:

     *T3                                (Trace for 3 steps)
     Func #48  DE=139C
     HL=0000 A=00
     Func #12  DE=156B
     HL=0130 A=30
     Func #32  DE=15FF
     HL=0000 A=00
     *
















                                    Page 2
                              - UNTRACE COMMAND -

          Urnnnnn   Trace and display for nnnnn steps then break

          Thå  "U¢  commanä  ió useä tï untracå thå targeô  prograí  foò  á 
     specifiã numbeò oæ BDOÓ calls® Thå BDOÓ functionó arå executeä withouô 
     displayinç  functioî  numbeò oò registeò information®  Iæ  aî  untracå 
     counô  (nnnnn© ió specified¬  SHOWFUNÃ wilì breaë afteò thå  specifieä 
     numbeò  oæ BDOÓ functionó havå beeî executed®  Thå maximuí numbeò thaô 
     caî bå entereä ió 6553µ decimal®  (oò FFFÆ hex© Aî optionaì radiø  (r© 
     caî  bå specifieä precedinç thå number®  Iæ á radiø ió specifieä  theî 
     thaô  radiø  remainó iî effecô untiì anotheò radiø ió  specified®  Thå 
     radiø ió specifieä aó "D¢ foò decimal¬  "H¢ foò hex¬ "O¢ foò octal¬ oò 
     "B¢  foò binary®  Notå thaô thå radiø specificationó "D¢ anä  "B¢  arå 
     botè valiä heø numbers¬  thereforå iæ yoõ enteò á heø numbeò withouô á 
     radiø preceedinç it¬  yoõ musô enteò á "0¢ beforå thå heø number®  Foò 
     examplå  yoõ  musô  enteò 0B00° tï specifù B00° hex®  Iæ  thå  untracå 
     commanä ió entereä witè oò withouô á number¬  untracå modå ió enabled® 
     Thió  wilì causå thå BDOÓ functioî anä registeró noô tï  bå  displayeä 
     wheî usinç thå singlå steğ commanä oò thå "G¢ command.


     EXAMPLE OF COMMANDS:

     *UH10          Untrace mode, untrace for 10 hex steps
     *U0A           Untrace mode, untrace for A steps use last radix (hex)
     *U             Untrace mode


     EXAMPLE OF DISPLAY:

     *U3                                (Untrace for 3 steps)
     *

























                                    Page 3
                                 - GO COMMAND -

          Grnnnnî   (Un)trace until BDOS function nnnnn is executed

          Thå  "G¢  commanä ió useä tï tracå oò untracå thå targeô  prograí 
     untiì  á specifiã BDOÓ functioî numbeò ió executed®  Iæ tracå modå  ió 
     enableä witè thå "T¢ command¬ eacè timå á BDOÓ calì ió executeä bù thå 
     targeô prograí thå BDOÓ functioî numbeò ió displayeä iî  decimal¬  anä 
     thå  contentó  oæ  registeò paiò DÅ arå displayeä  iî  hex®  Thå  BDOÓ 
     functioî  ió  theî executed®  Wheî thå BDOÓ returns¬  registeò  Á  anä 
     registeò paiò HÌ arå botè displayeä iî hex® Iæ untracå modå ió enableä 
     witè  thå  "U¢  command¬  thå  BDOÓ  functionó  arå  executeä  withouô 
     displayinç  functioî numbeò oò registeò information®  Iæ á breaë poinô 
     (nnnnn©  ió  specified¬  SHOWFUNÃ wilì breaë wheî thå  targeô  prograí 
     executeó thå specifieä BDOÓ function®  Thå maximuí numbeò thaô caî  bå 
     entereä  ió  25¶ decimal®  (oò FÆ hex© Iæ thå "G¢ commanä ió  executeä 
     withouô  á numbeò followinç theî SHOWFUNÃ ió effectivelù  removeä  anä 
     thå  prograí  ió alloweä tï fuî freely®  Aî optionaì radiø (r© caî  bå 
     specifieä  precedinç  thå number®  Iæ á radiø ió specifieä  theî  thaô 
     radiø remainó iî effecô untiì anotheò radiø ió specified® Thå radiø ió 
     specifieä aó "D¢ foò decimal¬  "H¢ foò hex¬  "O¢ foò octal¬ oò "B¢ foò 
     binary®  Notå thaô thå radiø specificationó "D¢ anä "B¢ arå botè valiä 
     heø  numbers¬  thereforå  iæ yoõ enteò á heø numbeò  withouô  á  radiø 
     preceedinç it¬ yoõ musô enteò á "0¢ beforå thå heø number® Foò examplå 
     yoõ musô enteò 0B° tï specifù B° hex.


     EXAMPLE OF COMMANDS:

     *GH10          Go until function 10 hex is executed
     *G10           Go until funct 10 is executed use last radix specified
     *G             Go without breaking and remove showfunc


     EXAMPLE OF DISPLAY:

     *T                                 (Trace mode)
     *GD32                              (Go until func 32)
     Func #48  DE=139C
     HL=0000 A=00
     Func #12  DE=156B
     HL=0130 A=30
     *<cr>                              (Single step)
     Func #32  DE=15FF
     HL=0000 A=00
     *












                                    Page 4
                                - DUMP COMMAND -

          Drnnnnn   Dump memory at address nnnnn

          Thå  "D¢  commanä  ió useä tï dumğ 12¸ byteó  oæ  memory®  Iæ  aî 
     addresó  (nnnnn© ió specified¬  memorù wilì bå dumpeä startinç aô thaô 
     address® Thå maximuí addresó thaô caî bå entereä ió 6553µ decimal® (oò 
     FFFÆ hex© Aî optionaì radiø (r© caî bå specifieä precedinç thå number® 
     Iæ  á  radiø  ió specifieä theî thaô radiø  remainó  iî  effecô  untiì 
     anotheò radiø ió specified® Thå radiø ió specifieä aó "D¢ foò decimal¬ 
     "H¢  foò hex¬  "O¢ foò octal¬  oò "B¢ foò binary®  Notå thaô thå radiø 
     specificationó  "D¢ anä "B¢ arå botè valiä heø numbers¬  thereforå  iæ 
     yoõ enteò á heø numbeò withouô á radiø preceedinç it¬ yoõ musô enteò á 
     "0¢ beforå thå heø number® Foò examplå yoõ musô enteò 0B00° tï specifù 
     B00° hex®  Iæ thå dumğ commanä ió entereä withouô á numbeò memorù wilì 
     bå dumpeä startinç aô thå lasô addresó displayeä bù thå previouó  dumğ 
     command.


     EXAMPLE OF COMMANDS:

     *DH5C          Dump 128 bytes starting at address 005C, use hex radix
     *D5C           Dump 128 bytes starting at address 005C, use last radix
     *D             Dump 128 bytes starting at last address


     EXAMPLE OF DISPLAY:

     *DH5C                              (Dump at address 005C)
     005C 02 46 4F 4F 20 20 20 20 20 43 4F 4D 00 00 00 00 .FOO     COM....
     006C 03 47 4F 4F 20 20 20 20 20 43 4F 4D 00 00 00 00 .GOO     COM....
     007C 00 00 00 00 15 42 3A 46 4F 4F 2E 43 4F 4D 3D 43 .....B:FOO.COM=C
     008C 3A 47 4F 4F 2E 43 4F 4D 5B 56 00 00 00 00 00 00 :GOO.COM[V......
     009C 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ................
     00AC 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ................
     00BC 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ................
     00CC 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ................
     *




















                                    Page 5
                            - SINGLE STEP COMMAND -

          <cr>      Single step trace or untrace

          Thå  singlå  steğ  commanä (carragå return© ió useä tï  tracå  oò 
     untracå thå targeô prograí foò á singlå BDOÓ functioî call®  Iæ  tracå 
     modå  ió  enableä  witè  thå "T¢ command¬  eacè timå á  BDOÓ  calì  ió 
     executeä  bù thå targeô prograí thå BDOÓ functioî numbeò ió  displayeä 
     iî decimal¬ anä thå contentó oæ registeò paiò DÅ arå displayeä iî hex® 
     Thå BDOÓ functioî ió theî executed®  Wheî thå BDOÓ returns¬ registeò Á 
     anä  registeò paiò HÌ arå botè displayeä iî hex®  Iæ untracå  modå  ió 
     enableä witè thå "U¢ command¬  thå BDOÓ functionó arå executeä withouô 
     displayinç functioî numbeò oò registeò information.


     EXAMPLE OF DISPLAY:

     *T                                 (Trace mode)
     *<cr>                              (Single step)
     Func #48  DE=139C
     HL=0000 A=00
     *U                                 (Untrace mode)
     *<cr>                              (Single step)
     *




                                - HELP COMMAND -

          HELP      Display help

          Á  summarù  oæ thå availablå commandó caî bå displayeä  froí  thå 
     prompt by typing "H" or "HELP".




                               - ERROR MESSAGES -

     File not found           Thå  filenamå  entereä waó  noô  found®  Thió 
                         coulä bå becauså it'ó noô therå oò thaô iô isn'ô á 
                         COÍ file.

     File to big              Thå COÍ filå thaô waó specifieä waó tï biç tï 
                         fit into the TPA with showfunc present.

     File read error          Thió  erroò  occuró wheî therå waó  aî  erroò 
                         reading the target file.

     Invalid entry            Thió erroò appearó wheî aî invaliä commanä oò 
                         characteò  ió  entereä aô thå  prompt®  Thió  alsï 
                         appearó  wheî  thå numbeò entereä ió tï  largå  oò 
                         entereä iî thå wronç radix.




                                    Page 6




